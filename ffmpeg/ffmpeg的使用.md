 # ffmpeg的使用

## 1. 视频分割

```shell
ffmpeg -ss 00:00:00 -i input.mp4 -vcodec copy -acodec copy -t 00:01:00 output.mp4
```

## 2. 视频转图片

```shell
ffmpeg -i ./output_file.avi -ss 0:0:0 -t 0:0:10 -r 25 -f image2 ./pic/%06d.jpg
```

## 3.图片转视频

```shell
ffmpeg -r 10 -f image2 -i ./%d.jpg -vcodec libx264 -r 5  test.mp4
```



## 4. 参数说明： 

ffmpeg -i [输入文件名] [参数选项] -f [格式] [输出文件] 

(1) -an: 去掉音频 
(2) -vn: 去掉视频 
(3) -acodec: 设定音频的编码器，未设定时则使用与输入流相同的编解码器。音频解复用在一般后面加copy表示拷贝 
(4) -vcodec: 设定视频的编码器，未设定时则使用与输入流相同的编解码器，视频解复用一般后面加copy表示拷贝 
(5) –f: 输出格式（视频转码）
(6) -bf: B帧数目控制 
(7) -g: 关键帧间隔控制(视频跳转需要关键帧)
(8) -s: 设定画面的宽和高，分辨率控制(352*278)
(9) -i:  设定输入流
(10) -ss: 指定开始时间（0:0:05）
(11) -t: 指定持续时间（0:0:05）
(12) -b: 设定视频流量，默认是200Kbit/s
(13) -aspect: 设定画面的比例
(14) -ar: 设定音频采样率
(15) -ac: 设定声音的Channel数
(16)  -r: 提取图像频率（用于视频截图）
(17) -c: v: 输出视频格式
(18) -c: a:  输出音频格式
(18) -y:  输出时覆盖输出目录已存在的同名文件